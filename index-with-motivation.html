<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é©å¿œå‹ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
const { useState, useEffect, useRef } = React;

const AdaptivePomodoro = () => {
  // åŸºæœ¬çŠ¶æ…‹
  const [currentPhase, setCurrentPhase] = useState('idle');
  const [timeLeft, setTimeLeft] = useState(0);
  const [currentWorkDuration, setCurrentWorkDuration] = useState(5);
  const [sessionCount, setSessionCount] = useState(0);
  
  // ãƒ€ã‚¤ã‚¢ãƒ­ã‚°åˆ¶å¾¡
  const [showReasonDialog, setShowReasonDialog] = useState(false);
  const [showContinueDialog, setShowContinueDialog] = useState(false);
  const [showBreakSuggestion, setShowBreakSuggestion] = useState(false);
  const [showTaskCompleteDialog, setShowTaskCompleteDialog] = useState(false);
  
  // ã‚¿ã‚¹ã‚¯æƒ…å ±
  const [reason, setReason] = useState('');
  const [currentTaskReason, setCurrentTaskReason] = useState('');
  const [taskResult, setTaskResult] = useState('');
  const [reasonHistory, setReasonHistory] = useState([]);
  
  // çµ±è¨ˆã¨ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
  const [totalWorkTime, setTotalWorkTime] = useState(0);
  const [totalExp, setTotalExp] = useState(0);
  const [level, setLevel] = useState(1);
  
  // ãã®ä»–ã®çŠ¶æ…‹
  const [isTimerFinished, setIsTimerFinished] = useState(false);
  const [workStartTime, setWorkStartTime] = useState(null);

// æ–°ã—ãè¿½åŠ ï¼šã‚„ã‚‹æ°—ãƒ¢ãƒ¼ãƒ‰ç®¡ç†
const [motivationMode, setMotivationMode] = useState('normal'); // 'normal', 'breathing', 'task-input', 'walk-suggestion'
const [breathingPhase, setBreathingPhase] = useState('inhale'); // 'inhale', 'hold', 'exhale'
const [breathingCycle, setBreathingCycle] = useState(0);
const [passiveTask, setPassiveTask] = useState('');
const [showPassiveTaskSubmit, setShowPassiveTaskSubmit] = useState(false);

const [showWorkoutSuggestion, setShowWorkoutSuggestion] = useState(false);

  // ãƒšãƒƒãƒˆé–¢é€£ã®çŠ¶æ…‹
  const [petLevel, setPetLevel] = useState(1);
  const [fireFood, setFireFood] = useState(0);    // ğŸ”¥ç«ã‚¨ã‚µ
  const [waterFood, setWaterFood] = useState(0);  // ğŸ’§æ°´ã‚¨ã‚µ
  const [woodFood, setWoodFood] = useState(0);    // ğŸŒ¿æœ¨ã‚¨ã‚µ

  const [petType, setPetType] = useState('egg');

    // æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã®çŠ¶æ…‹
  const [currentBoss, setCurrentBoss] = useState(null);
  const [battlePhase, setBattlePhase] = useState('none'); // 'none', 'preview', 'preparation', 'battle', 'result'
  const [playerEquipment, setPlayerEquipment] = useState(0); // é˜²å¾¡åŠ›
  const [battleResult, setBattleResult] = useState(null);

  const intervalRef = useRef(null);
  const breathingIntervalRef = useRef(null);
  const workDurations = [5, 6, 8, 10, 12, 15];

  // ãƒœã‚¹æƒ…å ±
  const bossData = [
  {
    id: 'fire_dragon',
    name: 'ç‚ã®ãƒ‰ãƒ©ã‚´ãƒ³',
    emoji: 'ğŸ‰',
    attribute: 'fire',
    hp: 100,
    attack: 80,
    description: 'ç‚ã‚’åãå¼·åŠ›ãªãƒ‰ãƒ©ã‚´ãƒ³'
  },
  {
    id: 'water_kraken',
    name: 'æ°´ã®ã‚¯ãƒ©ãƒ¼ã‚±ãƒ³',
    emoji: 'ğŸ™',
    attribute: 'water',
    hp: 120,
    attack: 75,
    description: 'æ·±æµ·ã‹ã‚‰ç¾ã‚ŒãŸå·¨å¤§ãªè§¦æ‰‹ã®é­”ç‰©'
  },
  {
    id: 'wood_treant',
    name: 'æ£®ã®ç•ªäºº',
    emoji: 'ğŸŒ³',
    attribute: 'wood',
    hp: 90,
    attack: 85,
    description: 'å¤ã„æ£®ã‚’å®ˆã‚‹å·¨å¤§ãªæ¨¹ã®ç²¾éœŠ'
  }
];

  // å±æ€§ç›¸æ€§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
const attributeEffectiveness = {
  fire: { strongAgainst: 'wood', weakAgainst: 'water' },
  water: { strongAgainst: 'fire', weakAgainst: 'wood' },
  wood: { strongAgainst: 'water', weakAgainst: 'fire' }
};

  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å¾©å…ƒ
  useEffect(() => {
    const saved = localStorage.getItem('pomodoroData');
    if (saved) {
      try {
        const data = JSON.parse(saved);
        setReasonHistory(data.reasonHistory || []);
        setTotalWorkTime(data.totalWorkTime || 0);
        setTotalExp(data.totalExp || 0);
        setLevel(data.level || 1);
      } catch (e) {
        console.log('ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    }
  }, []);

  // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
  const saveData = () => {
    const data = {
      reasonHistory,
      totalWorkTime,
      totalExp,
      level
    };
    localStorage.setItem('pomodoroData', JSON.stringify(data));
  };

  useEffect(() => {
    saveData();
  }, [reasonHistory, totalWorkTime, totalExp, level]);

  // å‘¼å¸ã‚¬ã‚¤ãƒ‰æ©Ÿèƒ½
  useEffect(() => {
    if (motivationMode === 'breathing') {
      breathingIntervalRef.current = setInterval(() => {
        setBreathingPhase(prev => {
          if (prev === 'inhale') return 'hold';
          if (prev === 'hold') return 'exhale';
          if (prev === 'exhale') {
            setBreathingCycle(cycle => {
              const newCycle = cycle + 1;
              if (newCycle >= 5) {
                // 5ã‚µã‚¤ã‚¯ãƒ«å®Œäº†
                setMotivationMode('task-input');
                return 0;
              }
              return newCycle;
            });
            return 'inhale';
          }
          return 'inhale';
        });
    }, breathingPhase === 'inhale' ? 4000 : breathingPhase === 'hold' ? 7000 : 8000);
    } else {
      if (breathingIntervalRef.current) {
        clearInterval(breathingIntervalRef.current);
      }
    }

    return () => {
      if (breathingIntervalRef.current) {
        clearInterval(breathingIntervalRef.current);
      }
    };
  }, [motivationMode, breathingPhase]);

  useEffect(() => {
    if (currentPhase === 'work') {
      intervalRef.current = setInterval(() => {
        setTimeLeft(prev => {
          if (prev <= 1) {
            setCurrentPhase('continue-check');
            setShowContinueDialog(true);
            setIsTimerFinished(true);
            return 0;
          }
          return prev - 1;
        });
      }, 1000);
    } else {
      if (intervalRef.current) {
        clearInterval(intervalRef.current);
      }
    }
    
    return () => {
      if (intervalRef.current) {
        clearInterval(intervalRef.current);
      }
    };
  }, [currentPhase]);

  const formatTime = (seconds) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  };
  
  const getRandomFood = () => {
  const foods = ['fire', 'water', 'wood'];
  return foods[Math.floor(Math.random() * 3)];
  };

  // æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ é–¢æ•°
  const getFoodCount = (attribute) => {
    switch(attribute) {
      case 'fire': return fireFood;
      case 'water': return waterFood;
      case 'wood': return woodFood;
      default: return 0;
    }
  };
  
  const getEffectiveAttribute = (bossAttribute) => {
  switch(bossAttribute) {
    case 'fire': return 'water';    // ç«ã«ã¯æ°´ãŒæœ‰åŠ¹
    case 'water': return 'wood';    // æ°´ã«ã¯æœ¨ãŒæœ‰åŠ¹  
    case 'wood': return 'fire';     // æœ¨ã«ã¯ç«ãŒæœ‰åŠ¹
    default: return 'fire';
  }
};
  
  const calculatePlayerPower = (boss) => {
    const effectiveAttribute = getEffectiveAttribute(boss.attribute);
    const effectiveFoodCount = getFoodCount(effectiveAttribute);
    
    return {
      hp: effectiveFoodCount,
      attack: Math.floor(effectiveFoodCount * 1.5), // æœ‰åˆ©å±æ€§ãƒœãƒ¼ãƒŠã‚¹
      defense: playerEquipment,
      effectiveAttribute,
      effectiveFoodCount
    };
  };
  
  const simulateBattle = (playerPower, boss) => {
    // æ•µã®æ”»æ’ƒã§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå—ã‘ã‚‹ãƒ€ãƒ¡ãƒ¼ã‚¸
    const damageReceived = Math.max(0, boss.attack - playerPower.defense);
    const playerSurvives = playerPower.hp > damageReceived;
    
    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ•µã‚’ä¸€æ’ƒã§å€’ã›ã‚‹ã‹
    const canDefeatBoss = playerPower.attack >= boss.hp;
    
    return {
      victory: playerSurvives && canDefeatBoss,
      damageReceived,
      playerSurvives,
      canDefeatBoss,
      playerPower,
      boss
    };
  };
  
  const rollEquipmentGacha = (foodCost = 1) => {
    const baseDefense = Math.floor(Math.random() * 11) + 5; // 5-15
    const equipmentNames = ['é‹¼ã®ç›¾', 'é­”æ³•ã®é§', 'ç«œé±—ã®ç›¾', 'è–ãªã‚‹å¤–å¥—', 'å¤ã®å®ˆè­·å…·'];
    const randomName = equipmentNames[Math.floor(Math.random() * equipmentNames.length)];
    
    return {
      name: `${randomName} +${baseDefense}`,
      defense: baseDefense,
      cost: foodCost
    };
  };
  
  const spawnRandomBoss = () => {
    const randomBoss = bossData[Math.floor(Math.random() * bossData.length)];
    setCurrentBoss({...randomBoss});
    setBattlePhase('preview');
  };

  const startWork = () => {
    setShowReasonDialog(true);
    setCurrentPhase('work');
    setTimeLeft(currentWorkDuration * 60);
    setWorkStartTime(Date.now());
  };

  const startBreathing = () => {
  setMotivationMode('breathing');
  setBreathingCycle(0);
  setBreathingPhase('inhale');
};

const handlePassiveTaskSubmit = () => {
  if (passiveTask.trim()) {
    setShowPassiveTaskSubmit(true);
  }
};

const handlePassiveTaskStart = () => {
  setMotivationMode('normal');
  setCurrentWorkDuration(5);
  setShowPassiveTaskSubmit(false);
  setReason(passiveTask);
  setPassiveTask('');
  startWork();
};

const handleWalkSuggestion = () => {
  setMotivationMode('walk-suggestion');
  setShowPassiveTaskSubmit(false);
};

const handleReturnFromWalk = () => {
  setMotivationMode('task-input');
};

const handleWorkoutSuggestion = () => {
  setMotivationMode('workout-suggestion');
  setShowPassiveTaskSubmit(false);
};

const handleReturnFromWorkout = () => {
  setMotivationMode('task-input');
};

const resetMotivationMode = () => {
  setMotivationMode('normal');
  setBreathingCycle(0);
  setBreathingPhase('inhale');
  setPassiveTask('');
  setShowPassiveTaskSubmit(false);
};

const getBreathingCircleSize = () => {
  if (breathingPhase === 'inhale') return 'w-32 h-32 scale-110';
  if (breathingPhase === 'hold') return 'w-32 h-32 scale-110';
  if (breathingPhase === 'exhale') return 'w-20 h-20 scale-90';
  return 'w-24 h-24';
};

const getBreathingText = () => {
  if (breathingPhase === 'inhale') return 'æ¯ã‚’å¸ã£ã¦';
  if (breathingPhase === 'hold') return 'æ­¢ã‚ã¦';
  if (breathingPhase === 'exhale') return 'æ¯ã‚’åã„ã¦';
  return '';
};

const handleReasonSubmit = () => {
  if (reason.trim()) {
    setCurrentTaskReason(reason.trim());
    setReason('');
  }
  setShowReasonDialog(false);
};


  const handleTaskComplete = () => {
    const actualWorkTime = Math.ceil((Date.now() - workStartTime) / 60000);
    const expGained = Math.ceil(actualWorkTime * 1.5);
    
    const now = new Date();
    setReasonHistory(prev => [...prev, {
      reason: currentTaskReason,
      result: taskResult.trim() || 'ä½œæ¥­å®Œäº†',
      datetime: now.toLocaleString('ja-JP'),
      plannedDuration: currentWorkDuration,
      actualDuration: actualWorkTime,
      expGained
    }]);
    
    setTotalWorkTime(prev => prev + actualWorkTime);
    setTotalExp(prev => {
      const newExp = prev + expGained;
      const newLevel = Math.floor(newExp / 100) + 1;
      setLevel(newLevel);
      return newExp;
    });
      // ã‚¨ã‚µç²å¾—å‡¦ç†
    const foodType = getRandomFood();
    if (foodType === 'fire') setFireFood(prev => prev + 1);
    if (foodType === 'water') setWaterFood(prev => prev + 1);
    if (foodType === 'wood') setWoodFood(prev => prev + 1);
    
    // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
    setShowTaskCompleteDialog(false);
    setCurrentPhase('idle');
    setCurrentTaskReason('');
    setTaskResult('');
    setSessionCount(0);
    setCurrentWorkDuration(5);
    setTimeLeft(0);
    setWorkStartTime(null);
    setIsTimerFinished(false);
  };

  const handleEarlyComplete = () => {
    if (intervalRef.current) {
      clearInterval(intervalRef.current);
    }
    setCurrentPhase('task-complete');
    setShowTaskCompleteDialog(true);
  };

  const handleContinue = () => {
    setShowContinueDialog(false);
    setIsTimerFinished(false);
    setSessionCount(prev => prev + 1);
      // ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†ã§ã‚¨ã‚µç²å¾—
  
  
   const foodType = getRandomFood();
    if (foodType === 'fire') setFireFood(prev => prev + 1);
    if (foodType === 'water') setWaterFood(prev => prev + 1);
    if (foodType === 'wood') setWoodFood(prev => prev + 1);
    
    const currentActualTime = Math.ceil((Date.now() - workStartTime) / 60000);
    if (currentActualTime >= 56) {
      setCurrentPhase('completed');
      return;
    }
    
    const nextSessionIndex = sessionCount + 1;
    if (nextSessionIndex < workDurations.length) {
      setCurrentWorkDuration(workDurations[nextSessionIndex]);
      setCurrentPhase('work');
      setTimeLeft(workDurations[nextSessionIndex] * 60);
    }
  };

  const handleStop = () => {
    setShowContinueDialog(false);
    setIsTimerFinished(false);
    
    if (sessionCount === 0) {
      setShowBreakSuggestion(true);
    } else {
      setShowTaskCompleteDialog(true);
    }
  };

  const handleBreakSuggestion = (action) => {
    setShowBreakSuggestion(false);
    if (action === 'retry') {
      setCurrentPhase('work');
      setTimeLeft(5 * 60);
    } else {
      setCurrentPhase('idle');
    }
  };

  const reset = () => {
    setCurrentPhase('idle');
    setTimeLeft(0);
    setCurrentWorkDuration(5);
    setSessionCount(0);
    setTotalWorkTime(0);
    setReasonHistory([]);
    setShowReasonDialog(false);
    setShowContinueDialog(false);
    setShowBreakSuggestion(false);
    setShowTaskCompleteDialog(false);
    setCurrentTaskReason('');
    setTaskResult('');
    setIsTimerFinished(false);
    setWorkStartTime(null);
    saveData();
  };

  const getPhaseDisplay = () => {
    switch(currentPhase) {
      case 'work':
        return `ä½œæ¥­ä¸­ (${currentWorkDuration}åˆ†)`;
      case 'continue-check':
        return 'ç¶™ç¶šç¢ºèª';
      case 'completed':
        return 'ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†ï¼';
      default:
        return 'å¾…æ©Ÿä¸­';
    }
  };

  return React.createElement('div', {
    className: `min-h-screen bg-gray-50 py-8 px-4`
  }, 
    React.createElement('div', {
      className: `max-w-md mx-auto p-6 rounded-lg shadow-lg transition-all duration-500 ${
        isTimerFinished ? 'bg-green-100 border-4 border-green-400 animate-pulse' : 'bg-white'
      }`
    },
      React.createElement('h1', {
        className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
      }, 'é©å¿œå‹ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼'),
      
      React.createElement('div', {
        className: 'text-center mb-6'
      },
        React.createElement('div', {
          className: 'text-lg font-medium text-gray-600 mb-2'
        }, getPhaseDisplay()),
        React.createElement('div', {
          className: 'text-4xl font-mono font-bold text-gray-800'
        }, formatTime(timeLeft)),
        
        currentTaskReason && currentPhase === 'work' && React.createElement('div', {
          className: 'mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg'
        },
          React.createElement('div', {
            className: 'text-sm text-gray-600 mb-1'
          }, 'ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯:'),
          React.createElement('div', {
            className: 'text-sm font-medium text-gray-800'
          }, currentTaskReason)
        )
      ),

      // ãƒ¬ãƒ™ãƒ«ã¨çµŒé¨“å€¤è¡¨ç¤º
      React.createElement('div', {
        className: 'mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg'
      },
        React.createElement('div', {
          className: 'flex justify-between items-center mb-2'
        },
          React.createElement('span', {
            className: 'text-sm font-medium text-blue-800'
          }, `Lv.${level}`),
          React.createElement('span', {
            className: 'text-sm text-blue-600'
          }, `${totalExp % 100}/100 EXP`)
        ),
        React.createElement('div', {
          className: 'w-full bg-blue-200 rounded-full h-2'
        },
          React.createElement('div', {
            className: 'bg-blue-600 h-2 rounded-full transition-all duration-300',
            style: { width: `${(totalExp % 100)}%` }
          })
        ),
        React.createElement('div', {
         className: 'text-xs text-blue-600 mt-1'
        }, `ç´¯è¨ˆä½œæ¥­æ™‚é–“: ${totalWorkTime}åˆ† | ç·çµŒé¨“å€¤: ${totalExp}`)
     ),

        // ãƒšãƒƒãƒˆè¡¨ç¤ºã‚¨ãƒªã‚¢
React.createElement('div', {
  className: 'mb-4 p-3 bg-green-50 border border-green-200 rounded-lg'
},
  React.createElement('div', {
    className: 'text-center mb-2'
  },
    React.createElement('div', {
      className: 'text-4xl mb-1'
    }, petType === 'egg' ? 'ğŸ¥š' : petType === 'cat' ? 'ğŸ±' : 'ğŸ‰'),
    React.createElement('div', {
      className: 'text-sm font-medium text-green-800'
    }, `ãƒšãƒƒãƒˆLv.${petLevel}`)
  ),
  React.createElement('div', {
  className: 'text-xs text-green-600 text-center'
}, `ğŸ”¥${fireFood} ğŸ’§${waterFood} ğŸŒ¿${woodFood}`)
),

      React.createElement('div', {
        className: 'mb-6'
      },
        React.createElement('div', {
          className: 'text-sm text-gray-600 mb-2'
        }, `ã‚»ãƒƒã‚·ãƒ§ãƒ³: ${sessionCount + 1}/6`),
        React.createElement('div', {
          className: 'w-full bg-gray-200 rounded-full h-2'
        },
          React.createElement('div', {
            className: 'bg-green-600 h-2 rounded-full transition-all duration-300',
            style: { width: `${((sessionCount + 1) / 6) * 100}%` }
          })
        )
      ),

      React.createElement('div', {
        className: 'space-y-4'
      },
        currentPhase === 'work' && React.createElement('button', {
          onClick: handleEarlyComplete,
          className: 'w-full py-3 px-4 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors mb-4'
        }, 'ã‚¿ã‚¹ã‚¯çµ‚äº†'),

        currentPhase === 'idle' && React.createElement('div', {
  className: 'space-y-2'
        },
        
        React.createElement('button', {
            onClick: startWork,
            className: 'w-full py-3 px-4 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition-colors'
        }, 'å«Œã ãªãƒœã‚¿ãƒ³'),
  
        React.createElement('button', {
            onClick: startBreathing,
            className: 'w-full py-3 px-4 bg-gray-400 text-white rounded-lg font-medium hover:bg-gray-500 transition-colors'
        }, 'ä½•ã®ã‚„ã‚‹æ°—ã‚‚å‡ºãªã„')
        ), 

        React.createElement('button', {
            onClick: spawnRandomBoss,
            className: 'w-full py-3 px-4 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors'
        }, 'âš”ï¸ ãƒœã‚¹æˆ¦ã«æŒ‘æˆ¦'),

// å‘¼å¸ã‚¬ã‚¤ãƒ‰ãƒ¢ãƒ¼ãƒ‰
motivationMode === 'breathing' && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-8'
    }, 'å‘¼å¸ã‚¬ã‚¤ãƒ‰'),
    
    React.createElement('div', {
      className: 'flex flex-col items-center mb-8'
    },
      React.createElement('div', {
        className: `${getBreathingCircleSize()} bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full transition-all duration-[4000ms] ease-in-out flex items-center justify-center mb-6`
      },
        React.createElement('span', {
          className: 'text-white font-semibold text-lg'
        }, breathingCycle + 1)
      ),
      
      React.createElement('p', {
        className: 'text-xl font-medium text-gray-700 mb-4'
      }, getBreathingText()),
      
      React.createElement('p', {
        className: 'text-sm text-gray-500'
      }, `ã‚µã‚¤ã‚¯ãƒ«: ${breathingCycle + 1}/5`)
    ),

       React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: () => setMotivationMode('task-input'),
        className: 'w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded transition-colors'
      }, 'æ·±å‘¼å¸ã‚’ã‚¹ã‚­ãƒƒãƒ—'),
  
      React.createElement('button', {
        onClick: resetMotivationMode,
        className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded transition-colors'
      }, 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'),
    ) 
  )
),

// ã‚¿ã‚¹ã‚¯å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰
motivationMode === 'task-input' && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
    }, 'å°ã•ãªä¸€æ­©ã‹ã‚‰'),
    
    React.createElement('p', {
      className: 'text-gray-600 mb-6 text-center'
    }, 'ç›®ã®å‰ã«ã‚ã‚‹ã‚¿ã‚¹ã‚¯ã‚’1ã¤ã ã‘å…¥åŠ›ã—ã¦ãã ã•ã„'),
    
    React.createElement('input', {
      type: 'text',
      value: passiveTask,
      onChange: (e) => setPassiveTask(e.target.value),
      placeholder: 'ä¾‹: ãƒ¡ãƒ¼ãƒ«ã‚’1é€šèª­ã‚€',
      className: 'w-full p-3 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-green-500'
    }),
    
    showPassiveTaskSubmit ? React.createElement('div', {
      className: 'space-y-4'
    },
      React.createElement('div', {
        className: 'p-4 bg-yellow-50 border border-yellow-200 rounded-lg'
      },
        React.createElement('p', {
          className: 'text-sm text-gray-700 mb-2'
        }, `ã‚¿ã‚¹ã‚¯ã€Œ${passiveTask}ã€ã‚’5åˆ†ã ã‘ã‚„ã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ`),
        React.createElement('p', {
          className: 'text-xs text-gray-500'
        }, 'ã¾ãšã¯å°ã•ãå§‹ã‚ã¦ã€ã§ããŸã‚‰ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚')
      ),
      React.createElement('div', {
        className: 'space-y-3'
      },
        React.createElement('button', {
          onClick: handlePassiveTaskStart,
          className: 'w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
        }, 'ã¯ã„ã€5åˆ†ã ã‘ã‚„ã£ã¦ã¿ã¾ã™'),
        
        React.createElement('button', {
          onClick: handleWalkSuggestion,
          className: 'w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
        }, 'ã„ã„ãˆã€å°‘ã—æ­©ã„ã¦ã‹ã‚‰è€ƒãˆã¾ã™'),

        React.createElement('button', {
          onClick: handleWorkoutSuggestion,
          className: 'w-full bg-purple-500 hover:bg-purple-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
        }, 'ã„ã„ãˆã€ç­‹ãƒˆãƒ¬ã—ã¦ãã¾ã™'),
      )
    ) : React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: handlePassiveTaskSubmit,
        disabled: !passiveTask.trim(),
        className: 'w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'ã“ã®ã‚¿ã‚¹ã‚¯ã§5åˆ†ã‚„ã£ã¦ã¿ã‚‹'),
      
      React.createElement('button', {
        onClick: resetMotivationMode,
        className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«')
    )
  )
),

// æ•£æ­©ææ¡ˆãƒ¢ãƒ¼ãƒ‰
motivationMode === 'walk-suggestion' && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-yellow-50 to-orange-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6'
    }, 'å°‘ã—æ­©ã„ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ'),
    
    React.createElement('p', {
      className: 'text-gray-600 mb-8'
    }, '5-10åˆ†ç¨‹åº¦ã€å¤–ã®ç©ºæ°—ã‚’å¸ã£ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ã¦ãã ã•ã„ã€‚æˆ»ã£ã¦ããŸã‚‰ã€ã¾ãŸä¸€ç·’ã«è€ƒãˆã¾ã—ã‚‡ã†ã€‚'),
    
    React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: handleReturnFromWalk,
        className: 'w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'æˆ»ã£ã¦ãã¾ã—ãŸ'),
      
      React.createElement('button', {
        onClick: resetMotivationMode,
        className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'ã‚„ã£ã±ã‚Šã‚­ãƒ£ãƒ³ã‚»ãƒ«')
    )
  )
),
// ç­‹ãƒˆãƒ¬ææ¡ˆãƒ¢ãƒ¼ãƒ‰
motivationMode === 'workout-suggestion' && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-purple-50 to-violet-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6'
    }, 'è»½ãä½“ã‚’å‹•ã‹ã—ã¾ã›ã‚“ã‹ï¼Ÿ'),
    
    React.createElement('p', {
      className: 'text-gray-600 mb-8'
    }, '10-15åˆ†ç¨‹åº¦ã€è…•ç«‹ã¦ä¼ã›ã‚„ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆãªã©è»½ã„é‹å‹•ã‚’ã—ã¦è¡€æµã‚’è‰¯ãã—ã¾ã—ã‚‡ã†ã€‚ä½“ã‚’å‹•ã‹ã™ã¨é ­ã‚‚ã‚¹ãƒƒã‚­ãƒªã—ã¾ã™ã€‚'),
    
    React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: handleReturnFromWorkout,
        className: 'w-full bg-purple-500 hover:bg-purple-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'ç­‹ãƒˆãƒ¬å®Œäº†ï¼'),
      
      React.createElement('button', {
        onClick: resetMotivationMode,
        className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'ã‚„ã£ã±ã‚Šã‚­ãƒ£ãƒ³ã‚»ãƒ«')
    )
  )
),

// ãƒœã‚¹äºˆå‘Šç”»é¢
battlePhase === 'preview' && currentBoss && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-red-50 to-purple-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6'
    }, 'âš”ï¸ ãƒœã‚¹å‡ºç¾ï¼'),
    
    React.createElement('div', {
      className: 'mb-6'
    },
      React.createElement('div', {
        className: 'text-6xl mb-4'
      }, currentBoss.emoji),
      
      React.createElement('h3', {
        className: 'text-xl font-bold text-gray-800 mb-2'
      }, currentBoss.name),
      
      React.createElement('p', {
        className: 'text-gray-600 mb-4'
      }, currentBoss.description),
      
      React.createElement('div', {
        className: 'bg-red-50 border border-red-200 rounded-lg p-4'
      },
        React.createElement('div', {
          className: 'text-sm text-gray-700 mb-2'
        }, `å±æ€§: ${currentBoss.attribute === 'fire' ? 'ğŸ”¥ ç«' : currentBoss.attribute === 'water' ? 'ğŸ’§ æ°´' : 'ğŸŒ¿ æœ¨'}`),
        React.createElement('div', {
          className: 'text-sm text-gray-700 mb-2'
        }, `HP: ${currentBoss.hp} / æ”»æ’ƒåŠ›: ${currentBoss.attack}`),
        React.createElement('div', {
          className: 'text-sm font-medium text-red-600'
        }, `å¼±ç‚¹: ${getEffectiveAttribute(currentBoss.attribute) === 'fire' ? 'ğŸ”¥ ç«' : getEffectiveAttribute(currentBoss.attribute) === 'water' ? 'ğŸ’§ æ°´' : 'ğŸŒ¿ æœ¨'}ã‚¨ã‚µã§æœ‰åˆ©ï¼`)
      )
    ),
    
    React.createElement('div', {
      className: 'mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg'
    },
      React.createElement('h4', {
        className: 'font-medium text-gray-800 mb-2'
      }, 'ç¾åœ¨ã®æˆ¦åŠ›'),
      React.createElement('div', {
        className: 'text-sm text-gray-600'
      }, `æœ‰åŠ¹ã‚¨ã‚µ(${getEffectiveAttribute(currentBoss.attribute) === 'fire' ? 'ğŸ”¥' : getEffectiveAttribute(currentBoss.attribute) === 'water' ? 'ğŸ’§' : 'ğŸŒ¿'}): ${getFoodCount(getEffectiveAttribute(currentBoss.attribute))}å€‹`),
      React.createElement('div', {
        className: 'text-sm text-gray-600'
      }, `è£…å‚™é˜²å¾¡åŠ›: ${playerEquipment}`)
    ),
    
    React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: () => setBattlePhase('preparation'),
        className: 'w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'æˆ¦é—˜æº–å‚™ã«é€²ã‚€'),
      
      React.createElement('button', {
        onClick: () => setBattlePhase('none'),
        className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'é€ƒã’ã‚‹')
    )
  )
),

// æˆ¦é—˜æº–å‚™ç”»é¢
battlePhase === 'preparation' && currentBoss && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-blue-50 to-green-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
    }, 'âš”ï¸ æˆ¦é—˜æº–å‚™'),
    
    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æˆ¦åŠ›è¡¨ç¤º
    (() => {
      const playerPower = calculatePlayerPower(currentBoss);
      const battleSim = simulateBattle(playerPower, currentBoss);
      
      return React.createElement('div', {
        className: 'space-y-4'
      },
        React.createElement('div', {
          className: 'p-4 bg-blue-50 border border-blue-200 rounded-lg'
        },
          React.createElement('h3', {
            className: 'font-medium text-gray-800 mb-2'
          }, 'ã‚ãªãŸã®æˆ¦åŠ›'),
          React.createElement('div', {
            className: 'text-sm text-gray-600 space-y-1'
          },
            React.createElement('div', {}, `HP: ${playerPower.hp}`),
            React.createElement('div', {}, `æ”»æ’ƒåŠ›: ${playerPower.attack}`),
            React.createElement('div', {}, `é˜²å¾¡åŠ›: ${playerPower.defense}`)
          )
        ),
        
        React.createElement('div', {
          className: `p-4 border rounded-lg ${battleSim.victory ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`
        },
          React.createElement('h3', {
            className: 'font-medium text-gray-800 mb-2'
          }, 'æˆ¦é—˜äºˆæ¸¬'),
          React.createElement('div', {
            className: 'text-sm space-y-1'
          },
            React.createElement('div', {
              className: battleSim.playerSurvives ? 'text-green-600' : 'text-red-600'
            }, `ç”Ÿå­˜: ${battleSim.playerSurvives ? 'âœ…' : 'âŒ'} (è¢«ãƒ€ãƒ¡ãƒ¼ã‚¸: ${battleSim.damageReceived})`),
            React.createElement('div', {
              className: battleSim.canDefeatBoss ? 'text-green-600' : 'text-red-600'
            }, `æ’ƒç ´: ${battleSim.canDefeatBoss ? 'âœ…' : 'âŒ'}`),
            React.createElement('div', {
              className: `font-medium ${battleSim.victory ? 'text-green-600' : 'text-red-600'}`
            }, `çµæœ: ${battleSim.victory ? 'å‹åˆ©' : 'æ•—åŒ—'}`)
          )
        ),
        
        React.createElement('div', {
          className: 'space-y-3'
        },
          React.createElement('button', {
            onClick: () => {
              setBattleResult(battleSim);
              setBattlePhase('result');
            },
            className: 'w-full bg-red-500 hover:bg-red-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
          }, 'æˆ¦é—˜é–‹å§‹ï¼'),
          
          React.createElement('button', {
            onClick: () => setBattlePhase('preview'),
            className: 'w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
          }, 'æˆ»ã‚‹')
        )
      );
    })()
  )
),

// æˆ¦é—˜çµæœç”»é¢
battlePhase === 'result' && battleResult && React.createElement('div', {
  className: 'fixed inset-0 bg-gradient-to-br from-yellow-50 to-orange-100 flex items-center justify-center p-4 z-50'
},
  React.createElement('div', {
    className: 'bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center'
  },
    React.createElement('h2', {
      className: 'text-2xl font-bold text-gray-800 mb-6'
    }, battleResult.victory ? 'ğŸ‰ å‹åˆ©ï¼' : 'ğŸ’€ æ•—åŒ—...'),
    
    React.createElement('div', {
      className: 'mb-6'
    },
      React.createElement('div', {
        className: 'text-4xl mb-4'
      }, battleResult.victory ? 'ğŸ‘‘' : 'ğŸ’€'),
      
      React.createElement('p', {
        className: 'text-gray-600 mb-4'
      }, battleResult.victory ? 
        `${currentBoss.name}ã‚’è¦‹äº‹ã«å€’ã—ã¾ã—ãŸï¼` : 
        `${currentBoss.name}ã«æ•—ã‚Œã¾ã—ãŸ...`
      ),
      
      React.createElement('div', {
        className: 'text-sm text-gray-600 space-y-1'
      },
        React.createElement('div', {}, `ã‚ãªãŸã®HP: ${battleResult.playerPower.hp}`),
        React.createElement('div', {}, `å—ã‘ãŸãƒ€ãƒ¡ãƒ¼ã‚¸: ${battleResult.damageReceived}`),
        React.createElement('div', {}, `ä¸ãˆãŸãƒ€ãƒ¡ãƒ¼ã‚¸: ${battleResult.playerPower.attack}`)
      )
    ),
    
    React.createElement('div', {
      className: 'space-y-3'
    },
      React.createElement('button', {
        onClick: () => {
          setBattlePhase('none');
          setCurrentBoss(null);
          setBattleResult(null);
        },
        className: 'w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-xl transition-colors'
      }, 'é–‰ã˜ã‚‹')
    )
  )
),

        currentPhase === 'completed' && React.createElement('div', {
          className: 'text-center'
        },
          React.createElement('p', {
            className: 'text-green-600 font-medium mb-4'
          }, 'ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ç´„1æ™‚é–“ã®ä½œæ¥­ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚'),
          React.createElement('button', {
            onClick: reset,
            className: 'py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors'
          }, 'ãƒªã‚»ãƒƒãƒˆ')
        ),

        reasonHistory.length > 0 && React.createElement('div', {
          className: 'mt-6'
        },
          React.createElement('h3', {
            className: 'text-lg font-medium text-gray-800 mb-3'
          }, 'è¨˜éŒ²'),
          React.createElement('div', {
            className: 'space-y-2 max-h-40 overflow-y-auto'
          },
            reasonHistory.map((entry, index) =>
              React.createElement('div', {
                key: index,
                className: 'p-3 bg-gray-50 rounded text-sm border-l-4 border-blue-400'
              },
                React.createElement('div', {
                  className: 'font-medium text-gray-800 mb-1'
                }, entry.datetime),
                React.createElement('div', {
                  className: 'text-gray-600 mb-1'
                },
                  React.createElement('span', {
                    className: 'font-medium'
                  }, 'èª²é¡Œ: '),
                  entry.reason
                ),
                React.createElement('div', {
                  className: 'text-gray-600 mb-1'
                },
                  React.createElement('span', {
                    className: 'font-medium'
                  }, 'çµæœ: '),
                  entry.result
                ),
                React.createElement('div', {
                  className: 'flex justify-between text-xs text-gray-500'
                },
                  React.createElement('span', {}, `äºˆå®š: ${entry.plannedDuration}åˆ† / å®Ÿéš›: ${entry.actualDuration}åˆ†`),
                  React.createElement('span', {
                    className: 'text-blue-600 font-medium'
                  }, `+${entry.expGained} EXP`)
                )
              )
            )
          )
        )
      ),

      // ç†ç”±å…¥åŠ›ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      showReasonDialog && React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50'
      },
        React.createElement('div', {
          className: 'bg-white p-6 rounded-lg max-w-sm w-full'
        },
          React.createElement('h3', {
            className: 'text-lg font-medium mb-4'
          }, 'ä½•ãŒå«Œã§ã—ãŸã‹ï¼Ÿ'),
          React.createElement('textarea', {
            value: reason,
            onChange: (e) => setReason(e.target.value),
            className: 'w-full p-3 border border-gray-300 rounded-lg mb-4 resize-none',
            rows: 3,
            placeholder: 'ä¾‹ï¼šãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„...'
          }),
          React.createElement('div', {
            className: 'flex space-x-2'
          },
            React.createElement('button', {
              onClick: handleReasonSubmit,
              className: 'flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors'
            }, 'é–‹å§‹')
          ),
          React.createElement('div', {
            className: 'mt-2 text-xs text-gray-500 text-center'
          }, `ã‚¿ã‚¤ãƒãƒ¼ã¯æ—¢ã«é–‹å§‹ã•ã‚Œã¦ã„ã¾ã™ (${currentWorkDuration}åˆ†)`)
        )
      ),

      // ç¶™ç¶šç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      showContinueDialog && React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50'
      },
        React.createElement('div', {
          className: 'bg-white p-6 rounded-lg max-w-sm w-full text-center'
        },
          React.createElement('h3', {
            className: 'text-lg font-medium mb-4'
          }, `${currentWorkDuration}åˆ†ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼`),
          React.createElement('div', {
            className: 'mb-6'
          },
            React.createElement('p', {
              className: 'text-sm text-gray-600 mb-2'
            }, `æ¬¡ã¯${sessionCount + 1 < workDurations.length ? workDurations[sessionCount + 1] : 15}åˆ†ã®ä½œæ¥­ã«ãªã‚Šã¾ã™`),
            React.createElement('p', {
              className: 'text-sm text-gray-600'
            }, 'ç¶šã‘ã‚‰ã‚Œãã†ã§ã™ã‹ï¼Ÿï¼ˆä¼‘æ†©ãªã—ã§å³åº§ã«é–‹å§‹ï¼‰')
          ),
          React.createElement('div', {
            className: 'flex space-x-2'
          },
            React.createElement('button', {
              onClick: handleContinue,
              className: 'flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors'
            }, 'ç¶šã‘ã‚‹'),
            React.createElement('button', {
              onClick: handleStop,
              className: 'flex-1 py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors'
            }, 'çµ‚äº†')
          )
        )
      ),

      // ã‚¿ã‚¹ã‚¯åˆ†è§£ææ¡ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      showBreakSuggestion && React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50'
      },
        React.createElement('div', {
          className: 'bg-white p-6 rounded-lg max-w-sm w-full'
        },
          React.createElement('h3', {
            className: 'text-lg font-medium mb-4'
          }, 'ã‚¿ã‚¹ã‚¯ã‚’åˆ†è§£ã—ã¦ã¿ã¾ã—ã‚‡ã†'),
          React.createElement('div', {
            className: 'text-sm text-gray-600 mb-4'
          },
            React.createElement('p', {
              className: 'mb-2'
            }, '5åˆ†ã‚‚é›†ä¸­ã§ããªã‹ã£ãŸå ´åˆã¯ã€ã‚¿ã‚¹ã‚¯ã‚’ã‚ˆã‚Šå°ã•ãåˆ†ã‘ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼š'),
            React.createElement('ul', {
              className: 'list-disc list-inside space-y-1'
            },
              React.createElement('li', {}, 'è³‡æ–™ã‚’1ãƒšãƒ¼ã‚¸ã ã‘èª­ã‚€'),
              React.createElement('li', {}, 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã‚¿ã‚¤ãƒˆãƒ«ã ã‘æ›¸ã'),
              React.createElement('li', {}, 'é–¢é€£ã™ã‚‹é“å…·ã‚„è³‡æ–™ã‚’æœºã«ä¸¦ã¹ã‚‹'),
              React.createElement('li', {}, '5è¡Œã ã‘ãƒ¡ãƒ¢ã‚’æ›¸ã'),
              React.createElement('li', {}, '1ã¤ã®æ®µè½ã ã‘èª­ã‚€')
            )
          ),
          React.createElement('div', {
            className: 'flex space-x-2'
          },
            React.createElement('button', {
              onClick: () => handleBreakSuggestion('retry'),
              className: 'flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm'
            }, 'ã‚‚ã†ä¸€åº¦5åˆ†'),
            React.createElement('button', {
              onClick: () => handleBreakSuggestion('stop'),
              className: 'flex-1 py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm'
            }, 'ä»Šæ—¥ã¯çµ‚äº†')
          )
        )
      ),

      // ã‚¿ã‚¹ã‚¯å®Œäº†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      showTaskCompleteDialog && React.createElement('div', {
        className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50'
      },
        React.createElement('div', {
          className: 'bg-white p-6 rounded-lg max-w-sm w-full'
        },
          React.createElement('h3', {
            className: 'text-lg font-medium mb-4'
          }, 'ã‚¿ã‚¹ã‚¯å®Œäº†ï¼'),
          React.createElement('div', {
            className: 'mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded'
          },
            React.createElement('div', {
              className: 'text-sm text-gray-600 mb-1'
            }, 'å–ã‚Šçµ„ã‚“ã èª²é¡Œ:'),
            React.createElement('div', {
              className: 'text-sm font-medium text-gray-800'
            }, currentTaskReason)
          ),
          React.createElement('div', {
            className: 'mb-4'
          },
            React.createElement('label', {
              className: 'block text-sm font-medium text-gray-700 mb-2'
            }, 'å®Ÿéš›ã«ä½•ã‚’ã©ã“ã¾ã§ã‚„ã‚Šã¾ã—ãŸã‹ï¼Ÿ'),
            React.createElement('textarea', {
              value: taskResult,
              onChange: (e) => setTaskResult(e.target.value),
              className: 'w-full p-3 border border-gray-300 rounded-lg resize-none',
              rows: 3,
              placeholder: 'ä¾‹ï¼š7äººåˆ†ã®é€€é™¢ã‚µãƒãƒªã‚’ä½œæˆå®Œäº†'
            })
          ),
          React.createElement('div', {
            className: 'flex space-x-2'
          },
            React.createElement('button', {
              onClick: handleTaskComplete,
              className: 'flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors'
            }, 'è¨˜éŒ²ã™ã‚‹')
          )
        )
      )
    )
  );
};

ReactDOM.render(React.createElement(AdaptivePomodoro), document.getElementById('root'));
